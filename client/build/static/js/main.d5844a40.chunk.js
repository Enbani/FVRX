(this["webpackJsonpfvrx-app"]=this["webpackJsonpfvrx-app"]||[]).push([[0],{200:function(e,t,a){e.exports=a.p+"static/media/lettuce.20e34eb9.PNG"},201:function(e,t,a){e.exports=a.p+"static/media/tomato.cd188adf.PNG"},207:function(e,t,a){e.exports=a(434)},406:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);a(208),a(217);var n=a(0),r=a.n(n),l=a(57),o=a.n(l),s=(a(406),a(204)),c=a(14),m=a(89),i=a(90),u=a(93),d=a(92),h=a(72),p=a.n(h),b=(a(71),a(91)),g=a.n(b),x=a(200),N=a.n(x),E=a(201),y=a.n(E),k=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("img",{src:g.a,alt:"New York Presbyterian Logo",width:"272",height:"43"}),r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:N.a,alt:"lettuce",width:"112",height:"88"}),r.a.createElement("p",{className:"header_text"},"Welcome to the FVRx Portal!"),r.a.createElement("img",{src:y.a,alt:"tomato",width:"95",height:"89"})),r.a.createElement("p",{className:"subheader_1"},"Market Managers"),r.a.createElement("p",{className:"subheader_2"},"Please enter the redeemer's phone number (10 digits only):"),r.a.createElement("input",{type:"text",value:e.redeemPhoneNumber,onChange:e.onRedeemPhoneNumberChange,className:"input",maxLength:"10"}),e.redeemLoading?r.a.createElement("div",{className:"loading"},r.a.createElement("p",{className:"subheader_2"},"Loading...")):r.a.createElement("button",{type:"button",className:"button",onClick:e.onRedeem},"Redeem"),r.a.createElement("p",{className:"subheader_1_with_margin"},"RDs"),r.a.createElement("p",{className:"subheader_2"},"Please enter your PIN:"),r.a.createElement("input",{type:"text",value:e.pin,onChange:e.onPinChange,className:"input",maxLength:"4"}),r.a.createElement("button",{type:"button",className:"button",onClick:e.onLogIn},"Log In"))},v=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("p",{className:"subheader_1"},"Please enter the prescription details:"),r.a.createElement("div",{className:"RxDetails-field"},r.a.createElement("p",{className:"subheader_2"},"MRN:"),r.a.createElement("input",{type:"text",value:e.mrn,onChange:e.onMrnChange,className:"input",placeholder:""})),r.a.createElement("div",{className:"RxDetails-field"},r.a.createElement("p",{className:"subheader_2"},"Phone# (10 digits only):"),r.a.createElement("input",{type:"tel",value:e.phoneNumber,onChange:e.onPhoneNumberChange,className:"input",placeholder:"",maxLength:"10"})),r.a.createElement("div",{className:"RxDetails-field"},r.a.createElement("p",{className:"subheader_2"},"Rx Amount:"),r.a.createElement("select",{className:"select",value:e.rxAmount,onChange:e.onAmountSelectChange},r.a.createElement("option",{value:"0"},"Please Select"),r.a.createElement("option",{value:"10"},"$10"),r.a.createElement("option",{value:"20"},"$20"))),e.loading?r.a.createElement("div",{className:"loading"},r.a.createElement("p",{className:"subheader_2"},"Loading...")):r.a.createElement("button",{type:"button",className:"button",onClick:e.onCreateRx},"Create Rx"))},M=a(202),f=a.n(M),R=a(206),C=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.rxPDF.save()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("button",{className:"button",onClick:this.props.onLogOut},"Log Out"),r.a.createElement("button",{className:"button",onClick:this.props.onCreateNew},"Create New")),r.a.createElement(R.a,{paperSize:"Letter",fileName:"FVRx-".concat(this.props.rxId,".pdf"),ref:function(t){return e.rxPDF=t}},r.a.createElement("div",{style:{height:792,width:612,padding:"none",margin:"none",overflowX:"hidden",overflowY:"hidden"}},r.a.createElement("div",{className:"Rx-header"},r.a.createElement("img",{src:g.a,alt:"New York Presbyterian Logo",width:"204",height:"32"}),r.a.createElement("p",{className:"Rx-header-text"},"Fruit and Vegetable Prescription // Receta de Frutas y Verduras"),r.a.createElement(f.a,{size:100,value:"https://fvrxstaging7.azurewebsites.net/#/".concat(this.props.rxId)}),r.a.createElement("p",{className:"Rx-subheader-text"},"RxID: ",this.props.rxId)),r.a.createElement("div",{className:"Rx-body"},r.a.createElement("div",{className:"Rx-description"},r.a.createElement("p",{className:"Rx-body-text-header"},"Have this code scanned at the GrowNYC tent at any of the farmers markets listed below to receive Greenmarket Bucks to spend on fruits and vegetables."),r.a.createElement("p",{className:"Rx-body-text-header"},"Thank you for participating!"),r.a.createElement("p",{className:"Rx-subheader-text"},"MANHATTAN"),r.a.createElement("p",{className:"Rx-body-text"},"Fort Washington Greenmarket",r.a.createElement("br",null),"168th St. & Fort Washington Ave.",r.a.createElement("br",null),"Tuesday 8:00 AM - 4:00 PM"),r.a.createElement("p",{className:"Rx-body-text"},"175th Street Greenmarket",r.a.createElement("br",null),"175th St. between Wadsworth & Broadway",r.a.createElement("br",null),"Thursday 8:00 AM - 4:00 PM"),r.a.createElement("p",{className:"Rx-body-text"},"Inwood Greenmarket",r.a.createElement("br",null),"Isham Street between Seaman Ave & Cooper St.",r.a.createElement("br",null),"Saturday 8:00 AM \u2013 3:00 PM"),r.a.createElement("p",{className:"Rx-body-text"},"Broadway Practice Youth Market",r.a.createElement("br",null),"Broadway between Dyckman St. & Cumming St.",r.a.createElement("br",null),"Wednesday 9:00 AM \u2013 3:00 PM",r.a.createElement("br",null),"July 8 - August 26"),r.a.createElement("p",{className:"Rx-subheader-text"},"BRONX"),r.a.createElement("p",{className:"Rx-body-text"},"Bronx Borough Hall Greenmarket",r.a.createElement("br",null),"161st Street & Grand Concourse",r.a.createElement("br",null),"Tuesday 8:00 AM \u2013 4:00 PM"),r.a.createElement("p",{className:"Rx-body-text"},"Lincoln Hospital Greenmarket",r.a.createElement("br",null),"149th Street between Park & Morris Aves.",r.a.createElement("br",null),"Tuesday 8:00 AM \u2013 3:00 PM",r.a.createElement("br",null),"Friday 8:00 AM \u2013 3:00 PM")),r.a.createElement("div",{className:"Rx-description"},r.a.createElement("p",{className:"Rx-body-text-header"},"Escanee este c\xf3digo en la tienda GrowNYC de los mercados de agricultores enumerados a continuaci\xf3n para recibir los cupones \u201cGreenmarket Bucks\u201d para frutas y verduras."),r.a.createElement("p",{className:"Rx-body-text-header"},"\xa1Gracias por participar!"),r.a.createElement("p",{className:"Rx-subheader-text"},"MANHATTAN"),r.a.createElement("p",{className:"Rx-body-text"},"Fort Washington Greenmarket",r.a.createElement("br",null),"Calle 168 & Av. Fort Washington",r.a.createElement("br",null),"Martes 8:00 AM \u2013 4:00 PM"),r.a.createElement("p",{className:"Rx-body-text"},"175th Street Greenmarket",r.a.createElement("br",null),"Calle 175 entre Wadsworth & Broadway",r.a.createElement("br",null),"Jueves 8:00 AM \u2013 4:00 PM"),r.a.createElement("p",{className:"Rx-body-text"},"Inwood Greenmarket",r.a.createElement("br",null),"Calle Isham entre Av. Seaman & Calle Cooper",r.a.createElement("br",null),"Sabado 8:00 AM \u2013 3:00 PM"),r.a.createElement("p",{className:"Rx-body-text"},"Broadway Practice Youth Market",r.a.createElement("br",null),"Broadway entre Calle Dyckman & Calle Cumming",r.a.createElement("br",null),"Miercoles 9:00 AM \u2013 3:00 PM",r.a.createElement("br",null),"Julio 8 - Agosto 26"),r.a.createElement("p",{className:"Rx-subheader-text"},"BRONX"),r.a.createElement("p",{className:"Rx-body-text"},"Bronx Borough Hall Greenmarket",r.a.createElement("br",null),"Calle 161 & Grand Concourse",r.a.createElement("br",null),"Martes 8:00 AM \u2013 4:00 PM"),r.a.createElement("p",{className:"Rx-body-text"},"Lincoln Hospital Greenmarket",r.a.createElement("br",null),"Calle 149 entre Av. Park & Av. Morris",r.a.createElement("br",null),"Martes 8:00 AM \u2013 3:00 PM",r.a.createElement("br",null),"Viernes 8:00 AM \u2013 3:00 PM"))))))}}]),a}(n.Component),P=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"subheader_1"},r.a.createElement("p",null,"Redemption Amount:")),r.a.createElement("div",{className:"Redeemed-amount-display"},r.a.createElement("p",{className:"Redeemed-amount-text"},"$".concat(e.redeemAmount))),e.loading?r.a.createElement("div",{className:"Market-select"},r.a.createElement("p",{className:"subheader_1_with_margin"},"Loading...")):""===e.market?r.a.createElement("div",{className:"Market-select"},r.a.createElement("p",{className:"subheader_1_with_margin"},"Please select your market:"),r.a.createElement("button",{className:"button-alt",onClick:function(){return e.onMarketSelect("Fort Washington Greenmarket")}},"Fort Washington Greenmarket"),r.a.createElement("button",{className:"button-alt",onClick:function(){return e.onMarketSelect("175th Street Greenmarket")}},"175th Street Greenmarket"),r.a.createElement("button",{className:"button-alt",onClick:function(){return e.onMarketSelect("Inwood Greenmarket")}},"Inwood Greenmarket"),r.a.createElement("button",{className:"button-alt",onClick:function(){return e.onMarketSelect("Broadway Practice Youth Market")}},"Broadway Practice Youth Market"),r.a.createElement("button",{className:"button-alt",onClick:function(){return e.onMarketSelect("Bronx Borough Hall Greenmarket")}},"Bronx Borough Hall Greenmarket"),r.a.createElement("button",{className:"button-alt",onClick:function(){return e.onMarketSelect("Lincoln Hospital Greenmarket")}},"Lincoln Hospital Greenmarket")):r.a.createElement("div",{className:"Market-select"},r.a.createElement("p",{className:"subheader_1_with_margin"},"Thank you!"),r.a.createElement("button",{className:"button",onClick:e.onLogOut},"Return Home")))},A=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={display:"Login",pin:"",mrn:"",phoneNumber:"",rxAmount:"0",rxId:"",redeemPhoneNumber:"",redeemAmount:"",redeemMarket:"",redeemRxId:"",rxDetailsLoading:!1,redeemLoading:!1,redeemMarketLoading:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.rxId;void 0!==t&&(this.setState({redeemLoading:!0}),p.a.get("/api/rx?rxId='".concat(t,"'")).then((function(t){var a=t.data.payload,n=a.rxid,r=a.amount;e.setState({display:"Redeemed",redeemRxId:n,redeemAmount:r,redeemLoading:!1})})).catch((function(t){console.log(t),alert("An error occured. Try entering the redeemer's phone number."),e.setState({redeemLoading:!1})})))}},{key:"redeemPhoneNumberChange",value:function(e){this.setState({redeemPhoneNumber:e.target.value})}},{key:"redeem",value:function(){var e=this;this.setState({redeemLoading:!0});var t=this.state.redeemPhoneNumber;isNaN(t)||10!==t.length?(alert("Invalid phone number, please try again."),this.setState({redeemLoading:!1})):p.a.get("/api/rx/".concat(t)).then((function(t){var a=t.data.payload,n=a.rxid,r=a.amount;e.setState({display:"Redeemed",redeemPhoneNumber:"",redeemRxId:n,redeemAmount:r,redeemLoading:!1})})).catch((function(t){console.log(t),alert("An error occured. Either this prescription has already been redeemed or you entered the wrong phone number. Check your entry and try again."),e.setState({redeemLoading:!1})}))}},{key:"marketSelected",value:function(e){var t=this;this.setState({redeemMarketLoading:!0});var a=this.state.redeemRxId;p.a.patch("/api/rx/".concat(a),{market:e}).then((function(a){t.setState({redeemMarketLoading:!1,redeemMarket:e})})).catch((function(e){return alert("An error occured, please try again.")}))}},{key:"pinChange",value:function(e){this.setState({pin:e.target.value})}},{key:"logIn",value:function(){var e=this.state.pin;isNaN(e)||4!==e.length?alert("Invalid PIN, please try again."):"7262"!==e?alert("Incorrect PIN, please try again."):this.setState({display:"RxDetails",pin:""})}},{key:"mrnChange",value:function(e){this.setState({mrn:e.target.value})}},{key:"phoneNumberChange",value:function(e){this.setState({phoneNumber:e.target.value})}},{key:"amountSelectChange",value:function(e){this.setState({rxAmount:e.target.value})}},{key:"createRx",value:function(){var e=this;this.setState({rxDetailsLoading:!0});var t=this.state,a=t.mrn,n=t.phoneNumber,r=t.rxAmount;a.length<1?(alert("Please enter an MRN."),this.setState({rxDetailsLoading:!1})):isNaN(n)||10!==n.length?(alert("Please enter a valid phone number."),this.setState({rxDetailsLoading:!1})):"0"===r?(alert("Please select an Rx amount."),this.setState({rxDetailsLoading:!1})):p.a.post("/api/rx",{mrn:a,phone:n,amount:r}).then((function(t){var a=t.data.payload.rxid;e.setState({display:"RxDisplay",mrn:"",phoneNumber:"",rxAmount:"0",rxId:a,rxDetailsLoading:!1})})).catch((function(){e.setState({rxDetailsLoading:!1}),alert("An error occured. Check your entry and try again.")}))}},{key:"createNew",value:function(){this.setState({display:"RxDetails",rxId:""})}},{key:"logOut",value:function(){this.setState({display:"Login",pin:"",mrn:"",phoneNumber:"",rxAmount:"0",redeemPhoneNumber:"",redeemMarket:"",rxId:"",rxDetailsLoading:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},function(){switch(e.state.display){case"RxDetails":return r.a.createElement(v,{mrn:e.state.mrn,onMrnChange:e.mrnChange.bind(e),phoneNumber:e.state.phoneNumber,onPhoneNumberChange:e.phoneNumberChange.bind(e),rxAmount:e.state.rxAmount,onAmountSelectChange:e.amountSelectChange.bind(e),onCreateRx:e.createRx.bind(e),loading:e.state.rxDetailsLoading});case"RxDisplay":return r.a.createElement(C,{onLogOut:e.logOut.bind(e),onCreateNew:e.createNew.bind(e),rxId:e.state.rxId});case"Redeemed":return r.a.createElement(P,{onLogOut:e.logOut.bind(e),redeemAmount:e.state.redeemAmount,onMarketSelect:e.marketSelected.bind(e),market:e.state.redeemMarket,loading:e.state.redeemMarketLoading});default:return r.a.createElement(k,{redeemPhoneNumber:e.state.redeemPhoneNumber,onRedeemPhoneNumberChange:e.redeemPhoneNumberChange.bind(e),pin:e.state.pin,onPinChange:e.pinChange.bind(e),onLogIn:e.logIn.bind(e),onRedeem:e.redeem.bind(e),redeemLoading:e.state.redeemLoading})}}())}}]),a}(n.Component),S=function(){return r.a.createElement(s.a,null,r.a.createElement(c.a,{exact:!0,path:"/",component:A}),r.a.createElement(c.a,{path:"/:rxId",component:A}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},71:function(e,t,a){},91:function(e,t,a){e.exports=a.p+"static/media/nyp_logo.811e4eb1.PNG"}},[[207,1,2]]]);
//# sourceMappingURL=main.d5844a40.chunk.js.map